<!--
  Sources utilisées:
  - IziToast
  - Colorlib
-->
<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="asset/toast.css" />
    <link rel="stylesheet" href="asset/index.css" />
    <script src="asset/toast.js"></script>
  </head>

  <body>
    <div class="icone">
      <img src="./asset/login_logo.png" /></div>
    <div class="login-page">
      <div class="form">
        <br>
        <br>
        <p>Connexion</p>
        <hr
        style="color: #ffffff;background-color: #ffffff;">
        <form class="login-form">
          <br>
            <input type="email" placeholder="Email" id="username" />
            <br>
            <input type="password" placeholder="Mot de Passe" id="password" />
            <br>
            <br>
            <button id="play">Jouer !</button> <br>
            <hr style="color: #ffffff;background-color: #ffffff;">
            <button id="mojang">Se connecter avec Mojang</button>
        </form>
        <p class="text-mojang">Connectez-vous avec votre compte<br> The Gamer serv</p>
        <a class="text-mojang" href="https://thegamerserv.com">Vous n'avez pas de compte ? Créer en un !</a>
      </div>
    </div>
    <script>
      // Importation des modules
      const ipc = require("electron").ipcRenderer;

      let playbtn = document.getElementById("play");

      playbtn.addEventListener("click", () => {
        let user = document.getElementById("username").value;
        let pass = document.getElementById("password").value;

        if (user && pass) {
          ipc.send("login", { user, pass });
        } else {
          playbtn.disable = false;
          iziToast.error({
          id: "error",
          title: "Erreur",
          message: "entrez un mail et/ou mot de passe",
          position: "bottomRight",
          transitionIn: "fadeInDown",
        });
        }
      });

      // Récéption de l'event erreur
      ipc.on("err", (event, errorMessage) => {
        iziToast.error({
          id: "error",
          title: "Erreur",
          message: errorMessage,
          position: "bottomRight",
          transitionIn: "fadeInDown",
        });
        playbtn.disabled = false;
      });
    </script>
    <style>
      body {
    background: #ffffff;
    /* fallback for old browsers */
    background: url("./asset/background_season11.jpg");
    background-repeat: no-repeat;
    font-family: "Roboto", sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    background-size: 100%;
  }
    </style>
  </body>
</html>
